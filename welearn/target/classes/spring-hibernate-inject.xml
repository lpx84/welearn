<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context"
	xmlns:aop="http://www.springframework.org/schema/aop" xmlns:p="http://www.springframework.org/schema/p"
	xmlns:task="http://www.springframework.org/schema/task" xmlns:mvc="http://www.springframework.org/schema/mvc"
	xsi:schemaLocation="http://www.springframework.org/schema/beans 
							http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
							http://www.springframework.org/schema/context 
							http://www.springframework.org/schema/context/spring-context-3.0.xsd
							http://www.springframework.org/schema/aop
							http://www.springframework.org/schema/aop/spring-aop-3.0.xsd
							http://www.springframework.org/schema/task
							http://www.springframework.org/schema/task/spring-task-3.0.xsd
							http://www.springframework.org/schema/mvc
							http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd">

	<!-- ===================== WechatMessage =========================== -->
	<bean id="msgReplyIndexDao" class="com.welearn.dao.MsgReplyIndexDao">
		<property name="sessionFactory" ref="sessionFactory"></property>
	</bean>
	<bean id="wechatMsgServiceBase" class="com.welearn.service.impl.WechatMsgServiceImpl">
		<property name="msgReplyIndexDao" ref="msgReplyIndexDao"></property>
	</bean>
	<bean name="wechatMsgService" parent="transactionProxy">
		<property name="target" ref="wechatMsgServiceBase"></property>
	</bean>

	<!-- ===================== Student=========================== -->
	<bean id="studentDao" class="com.welearn.dao.StudentDao">
		<property name="sessionFactory" ref="sessionFactory"></property>
	</bean>
	<bean id="studentServiceBase" class="com.welearn.service.impl.StudentServiceImpl">
		<property name="studentDao" ref="studentDao"></property>
	</bean>
	<bean name="studentService" parent="transactionProxy">
		<property name="target" ref="studentServiceBase"></property>
	</bean>

	<!-- ===================== EmptyRoom =========================== -->
	<bean name="emptyRoomService" class="com.welearn.service.impl.EmptyRoomServiceImpl">
	</bean>

	<!-- ===================== Course =========================== -->
	<bean id="courseDao" class="com.welearn.dao.CourseDao">
		<property name="sessionFactory" ref="sessionFactory"></property>
	</bean>
	<bean id="courseServiceBase" class="com.welearn.service.impl.CourseServiceImpl">
		<property name="courseDao" ref="courseDao"></property>
	</bean>
	<bean name="courseService" parent="transactionProxy">
		<property name="target" ref="courseServiceBase"></property>
	</bean>

	<!-- ===================== Mis =========================== -->
	<bean id="schoolCalenderDao" class="com.welearn.dao.SchoolCalenderDao">
		<property name="sessionFactory" ref="sessionFactory"></property>
	</bean>
	
	<bean id="misServiceBase" class="com.welearn.service.impl.MisServiceImpl">
		<property name="schoolCalenderDao" ref="schoolCalenderDao"></property>
		<property name="studentDao" ref="studentDao"></property>
	</bean>
	<bean name="misService" parent="transactionProxy">
		<property name="target" ref="misServiceBase"></property>
	</bean>

	<!-- ===================== Teacher =========================== -->
	<bean id="teacherDao" class="com.welearn.dao.TeacherDao">
		<property name="sessionFactory" ref="sessionFactory"></property>
	</bean>
	<bean id="courseHomeworkDao" class="com.welearn.dao.CourseHomeworkDao">
		<property name="sessionFactory" ref="sessionFactory"></property>
	</bean>
	<bean id="courseNotifyDao" class="com.welearn.dao.CourseNotifyDao">
		<property name="sessionFactory" ref="sessionFactory"></property>
	</bean>
	<bean id="attendTaskDao" class="com.welearn.dao.AttendTaskDao">
		<property name="sessionFactory" ref="sessionFactory"></property>
	</bean>
	<bean id="teacherServiceBase" class="com.welearn.service.impl.TeacherServiceImpl">
		<property name="teacherDao" ref="teacherDao"></property>
		<property name="courseHomeworkDao" ref="courseHomeworkDao"></property>
		<property name="courseDao" ref="courseDao"></property>
		<property name="courseNotifyDao" ref="courseNotifyDao"></property>
		<property name="attendTaskDao" ref="attendTaskDao"></property>
	</bean>
	<bean name="teacherService" parent="transactionProxy">
		<property name="target" ref="teacherServiceBase"></property>
	</bean>

</beans>

